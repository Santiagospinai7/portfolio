function s(t,e){const n=document.createElement(t);return e&&"string"==typeof e&&""!==e&&(n.textContent=e),e&&"object"==typeof e&&Object.keys(e).forEach((t=>{n.setAttribute(t,e[t])})),n}function h(t,e,n){t.addEventListener(e,n)}function b(t){const e=t.match(/\w+$/)?.[0]??"";return""===e||e.length>1?"":e.toUpperCase()}const v=["Control","Shift","Alt","Meta"],g=["Control+T","Control+Shift+T","Control+W","Control+Shift+W","Control+N","Control+Shift+N","Control+Tab","Control+Shift+Tab","Meta+T","Meta+Shift+T","Meta+W","Meta+Shift+W","Meta+N","Meta+Shift+N","Meta+Tab","Meta+Shift+Tab"];function w(t){const e=t.match(/\w+/g)??[];if(0===e.length)return!1;const n=e.map((t=>"CTRL"===t.toUpperCase()?"Control":"CMD"===t.toUpperCase()?"Meta":t[0].toUpperCase()+t.slice(1).toLowerCase())).join("+");return!g.includes(n)&&n.split("+").slice(0,-1).every((t=>v.includes(t)))}class E{instance;#t=null;#e=null;#n=[];currentIndex=0;#i="Escape";#s;#o="K";#r="Search command";#a="black";#h=new MutationObserver(this.#c.bind(this));constructor({closeKey:t,placeholder:e,activationLetter:n}={}){if(null==document.getElementById("hotkeypad"))throw new Error("HotKeyPad instance not found in the DOM");return this.instance=document.getElementById("hotkeypad"),this.#s=navigator.userAgent.includes("Macintosh")?"Cmd":"Ctrl",t&&""!==t&&(this.#i=t),e&&""!==e&&(this.#r=e),n&&""!==n&&(this.#o=n),this.#l(),this.#d(),this}#d(){h(document,"keydown",(t=>{const e=`Key${this.#o.toUpperCase()}`;t.code===e&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.#u?this.close():this.open()),t.key.toLowerCase()===this.#i.toLowerCase()&&this.close()})),this.#h.observe(this.instance,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1}),this.#p(),this.#y(),this.#m(),this.#v()}#l(){this.instance.hasAttribute("data-placeholder")&&""!==this.instance.getAttribute("data-placeholder")&&(this.#r=this.instance.getAttribute("data-placeholder")),this.instance.hasAttribute("data-activation-letter")&&""!==this.instance.getAttribute("data-activation-letter")&&(this.#o=this.instance.getAttribute("data-activation-letter").toUpperCase()),this.instance.hasAttribute("data-close-key")&&""!==this.instance.getAttribute("data-close-key")&&(this.#i=this.instance.getAttribute("data-close-key").toUpperCase())}#c(t){const{attributeName:e,target:n}=t[0];"class"===e&&(n.classList.contains("dark")?this.#a="white":this.#a="black",this.#f())}#b(){h(this.instance,"keydown",(t=>{(t.metaKey||t.ctrlKey)&&this.#n.find((({hotkey:e,handler:n})=>{const i=`Key${b(e)}`;return t.code===i&&(t.preventDefault(),null!=n&&setTimeout((()=>n()),200),this.close()),!1}))})),h(this.#e,"click",(t=>{const e=t.target;"LI"===e.tagName&&this.#k(e),"LI"===e.parentElement?.tagName&&this.#k(e.parentElement)})),h(this.#e,"mouseover",(t=>{const e=t.target;"LI"===e.tagName&&(this.#w.forEach((t=>t.removeAttribute("data-active"))),e.setAttribute("data-active",""))})),h(this.#e,"keydown",(t=>{const e=this.#w;this.currentIndex=Array.from(e).findIndex((t=>t.hasAttribute("data-active"))),this.currentIndex=-1===this.currentIndex?0:this.currentIndex;let n=0;"Enter"===t.key&&(t.preventDefault(),this.#k(e[this.currentIndex]),e[this.currentIndex].removeAttribute("data-active"),this.currentIndex=0),"ArrowUp"===t.key&&(t.preventDefault(),n=this.currentIndex-1<0?e.length-1:this.currentIndex-1),"ArrowDown"===t.key&&(t.preventDefault(),n=this.currentIndex+1>e.length-1?0:this.currentIndex+1),"Tab"===t.key&&(t.preventDefault(),n=this.currentIndex+1>e.length-1?0:this.currentIndex+1),e[this.currentIndex].removeAttribute("data-active"),e[n].setAttribute("data-active","")})),h(this.#e,"input",(t=>{const e=t.target.value.toLowerCase();this.#e.querySelectorAll("[data-section]").forEach((t=>{const n=t.querySelector("ul");n.querySelectorAll("li").forEach((t=>{t.querySelector("p").innerText.toLowerCase().includes(e)?t.style.display="flex":t.style.display="none"})),0===n.querySelectorAll("li[style='display: flex;']").length?t.style.display="none":t.style.display="block"}))}))}#k(t){this.#n.find((({hotkey:e,handler:n})=>(t.getAttribute("data-hotkey")===e&&(null!=n&&setTimeout((()=>n()),200),this.close()),!1)))}#C(t){if(0===t.length)throw new Error("The commands array cannot be empty");return t.forEach((t=>{if(""===t.id||""===t.title||""===t.hotkey||null==t.handler)throw new Error("The command object is not valid. It should contain an id, title, hotkey and handler");if(!w(t.hotkey))throw new Error("The hotkey is not valid. It should only contain CTRL, CMD, ALT, SHIFT and a letter. Also it cannot contain browser or system reserved hotkeys such as CTRL+T, CTRL+N, CTRL+W, etc.");if(null!=t.icon&&"string"!=typeof t.icon)throw new Error("The icon should be a string");if((t.hotkey.match(/\w+/g)??[]).length>2)throw new Error("The hotkey only supports 2 keys maximum")})),t}#g(t){const e=document.querySelector("#hotkeypad-footer");if(null==e)return!1;const n=e.content.cloneNode(!0);return Array.from(n.children).forEach((e=>t.appendChild(e))),!0}open(){window.dispatchEvent(new CustomEvent("hotkeypad:open")),this.instance.style.opacity="1",this.instance.style.visibility="visible",this.instance.style.pointerEvents="auto",setTimeout((()=>this.#e.querySelector("input").focus()),200)}close(){window.dispatchEvent(new CustomEvent("hotkeypad:close")),this.instance.style.opacity="0",this.instance.style.visibility="hidden",this.instance.style.pointerEvents="none",this.#e.querySelector("input").value="",this.#e.removeEventListener("keydown",(()=>{})),this.#e.removeEventListener("mouseover",(()=>{})),this.#e.removeEventListener("input",(()=>{}))}setCommands(t){this.#n=this.#C(t),this.#f(),this.#b()}get#u(){return"visible"===this.instance.style.visibility}get activationKey(){return this.#s}get#A(){const t=new Map;return this.#n.forEach((e=>{const n="string"!=typeof e.section||""===e.section?"Unlisted":e.section,{section:i,...s}=e,o=t.get(n);o?o.push(s):t.set(n,[s])})),Array.from(t)}get#w(){return this.#e.querySelectorAll("li")}#E(t){return`https://cdn.simpleicons.org/${t}/${this.#a}`}#L(t){return/<svg/.test(t)||/<img/.test(t)||/<i/.test(t)||""===t}#p(){this.#t=s("div",{"data-backdrop":"","aria-hidden":"true"}),h(this.#t,"click",(()=>this.close())),this.instance.appendChild(this.#t)}#y(){this.#e=s("div",{"data-container":""}),this.instance.appendChild(this.#e)}#m(){const t=s("header"),e=s("input",{type:"text",placeholder:this.#r,"aria-label":this.#r,autocomplete:"off",spellcheck:"false"});t.appendChild(e),this.#e.appendChild(t)}#v(){const t=s("footer");if(!this.#g(t)){const e=s("kbd","↩"),n=s("kbd","↑"),i=s("kbd","↓"),o=s("kbd",this.#i),r=s("kbd",`${this.#s} + ${this.#o}`),a=s("p"," to select"),h=s("p"," to navigate"),c=s("p"," to close");a.prepend(e),h.prepend(n,i),c.prepend(r,o),t.append(a,h,c)}this.#e.appendChild(t)}#I(){const t=s("div");t.setAttribute("data-sections",""),this.#A.forEach((([e,n])=>{const i=s("div");if(i.setAttribute("data-section",e.toLowerCase()),"Unlisted"!==e){const t=s("h4",e);i.appendChild(t)}const o=s("ul");n.forEach((({title:t,icon:e,hotkey:n})=>{const i=n.split("+").map((t=>t.trim()));null==e&&(e="");const r=this.#L(e)?e:`<img src="${this.#E(e)}" alt="${t}" />`,a=s("li");if(a.setAttribute("data-hotkey",n),a.setAttribute("tabindex","0"),""!==r){const t=s("span");t.innerHTML=r,a.appendChild(t)}const h=s("p");h.append(t);const c=s("div");i.forEach((t=>{const e=s("span",t);c.appendChild(e)})),a.appendChild(h),a.appendChild(c),o.appendChild(a)})),i.appendChild(o),t.appendChild(i)})),this.#e.insertBefore(t,this.#e.lastChild)}#f(){const t=this.#e.querySelector("[data-sections]");t&&t.remove(),this.#I(),this.#w[0].setAttribute("data-active","")}}const k=new E,A=k.instance.getAttribute("data-info")??"[]",I=JSON.parse(A),L=I.map((({url:t,hotkey:e,icon:n,id:i,section:s,title:o})=>({id:i,title:o,icon:n,hotkey:e,section:s,handler:()=>{window.open(t,"_blank")}})));k.setCommands([{id:"print",title:"Print Resume",icon:'<svg style="margin-right: 8px" width="16" height="16" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" d="M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z" />\n</svg>',hotkey:"ctrl+P",section:"Actions",handler:()=>{window.open("/CV_SantiagoOspinaIdrobo.pdf","_blank")}},...L]);const T=document.querySelectorAll(".footer-button");T.forEach((t=>{t.addEventListener("click",(()=>{let t=new KeyboardEvent("keydown",{key:"K",code:"KeyK",keyCode:75,which:75,ctrlKey:!0,altKey:!1,shiftKey:!1,metaKey:!1});document.dispatchEvent(t)}))}));